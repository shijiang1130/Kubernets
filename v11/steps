chmod +x images.sh
#!/bin/bash
images=(kube-proxy-amd64:v1.11.0 kube-scheduler-amd64:v1.11.0 kube-controller-manager-amd64:v1.11.0 kube-apiserver-amd64:v1.11.0
etcd-amd64:3.2.18 coredns:1.1.3 pause-amd64:3.1 kubernetes-dashboard-amd64:v1.8.3 k8s-dns-sidecar-amd64:1.14.9 k8s-dns-kube-dns-amd64:1.14.9
k8s-dns-dnsmasq-nanny-amd64:1.14.9 )
for imageName in ${images[@]} ; do
  docker pull registry.cn-hangzhou.aliyuncs.com/k8sth/$imageName
  docker tag registry.cn-hangzhou.aliyuncs.com/k8sth/$imageName k8s.gcr.io/$imageName
  #docker rmi registry.cn-hangzhou.aliyuncs.com/k8sth/$imageName
done
docker tag da86e6ba6ca1 k8s.gcr.io/pause:3.1

./images.sh
docker images
kubeadm reset
docker ps
kubeadm init --kubernetes-version=v1.11.0 --pod-network-cidr=10.244.0.0/16 --apiserver-advertise-address=192.168.150.181

docker pull gcrxio/coredns:1.1.3

export KUBECONFIG=/etc/kubernetes/admin.conf
kubectl get nodes
kubectl get pods --all-namespaces
kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/v0.10.0/Documentation/kube-flannel.yml
kubectl get pods --all-namespaces
kubectl logs pod kube-flannel-ds-jnbwd -n kube-system
kubectl logs pod kube-flannel-ds-jnbwd
kubectl describe pod kube-flannel-ds-jnbwd  -n kube-system
docker pull quay.io/coreos/flannel:v0.10.0-amd64
kubectl describe pod kube-flannel-ds-jnbwd
kubeadm token create --print-join-command


Run the following commands on the kubernetes master host.
Use curl to get the installer bundle: 
curl -L -O https://github.com/contiv/install/releases/download/$VERSION/contiv-$VERSION.tgz
Extract the install bundle 
tar oxf contiv-$VERSION.tgz.
Change directories to the extracted folder 
cd contiv-$VERSION
To install Contiv with VXLAN:
sudo ./install/k8s/install.sh -n $CONTIV_MASTER
NOTE: Use the same IP for CONTIV_MASTER as you use for --api-advertise-addresses in kubeadm init.
